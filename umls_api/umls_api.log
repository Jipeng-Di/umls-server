INFO:     Will watch for changes in these directories: ['/home/ec2-user/umls-server/umls_api']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [18218] using StatReload
INFO:     Started server process [18226]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:root:Computing Wu-Palmer similarity for C0001699 and C0004626
INFO:root:Fetching ancestors for C0001699 and C0004626
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0001699
INFO:root:Found 11 PTR paths for CUI C0001699
INFO:root:Extracted 63 unique AUIs from PTR paths
INFO:root:Mapping 63 AUIs to CUIs
INFO:root:Found 63 AUI to CUI mappings
INFO:root:Found 34 unique ancestor CUIs
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0004626
INFO:root:Found 65 PTR paths for CUI C0004626
INFO:root:Extracted 78 unique AUIs from PTR paths
INFO:root:Mapping 78 AUIs to CUIs
INFO:root:Found 78 AUI to CUI mappings
INFO:root:Found 56 unique ancestor CUIs
INFO:root:Common ancestors: {'C1135584', 'C1256741', 'C1140093', 'C1140168', 'C1256739', 'C2720507'}
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C1140093: 
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C2720507: 
INFO:root:Lowest common ancestor for C0001699 and C0004626 is C1135584
INFO:root:Lowest common ancestor for C0001699 and C0004626 is C1135584
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Successfully connected to database
INFO:root:Successfully connected to database
INFO:root:Depths: C0001699 -> {'cui': 'C0001699', 'depth': 11}, C0004626 -> {'cui': 'C0004626', 'depth': 11}, LCA C1135584 -> {'cui': 'C1135584', 'depth': 10}
INFO:root:Computed Wu-Palmer similarity: 0.9090909090909091
INFO:     127.0.0.1:43644 - "GET /cuis/C0001699/C0004626/similarity/wu-palmer HTTP/1.1" 200 OK
INFO:root:Computing Wu-Palmer similarity for C0004090 and C0032280
INFO:root:Fetching ancestors for C0004090 and C0032280
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0004090
INFO:root:Found 8 PTR paths for CUI C0004090
INFO:root:Extracted 15 unique AUIs from PTR paths
INFO:root:Mapping 15 AUIs to CUIs
INFO:root:Found 15 AUI to CUI mappings
INFO:root:Found 15 unique ancestor CUIs
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0032280
INFO:root:Found 0 PTR paths for CUI C0032280
INFO:root:No ancestors found for CUI C0032280
INFO:root:Common ancestors: set()
ERROR:root:Error finding LCA: 
INFO:     127.0.0.1:47692 - "GET /cuis/C0004090/C0032280/similarity/wu-palmer HTTP/1.1" 500 Internal Server Error
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:     127.0.0.1:46706 - "GET /cuis?query=pneumonia HTTP/1.1" 200 OK
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:     127.0.0.1:51394 - "GET /cuis/C0001699 HTTP/1.1" 200 OK
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:     127.0.0.1:58202 - "GET /terms?search=diabetes%20mellitus&ontology=HPO HTTP/1.1" 200 OK
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:     127.0.0.1:42372 - "GET /cuis/C0001699/depth HTTP/1.1" 200 OK
INFO:root:Fetching ancestors for C0001699 and C0004626
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0001699
INFO:root:Found 11 PTR paths for CUI C0001699
INFO:root:Extracted 63 unique AUIs from PTR paths
INFO:root:Mapping 63 AUIs to CUIs
INFO:root:Found 63 AUI to CUI mappings
INFO:root:Found 34 unique ancestor CUIs
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0004626
INFO:root:Found 65 PTR paths for CUI C0004626
INFO:root:Extracted 78 unique AUIs from PTR paths
INFO:root:Mapping 78 AUIs to CUIs
INFO:root:Found 78 AUI to CUI mappings
INFO:root:Found 56 unique ancestor CUIs
INFO:root:Common ancestors: {'C1135584', 'C1256741', 'C1140093', 'C1140168', 'C1256739', 'C2720507'}
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C1140093: 
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C2720507: 
INFO:root:Lowest common ancestor for C0001699 and C0004626 is C1135584
INFO:     127.0.0.1:55466 - "GET /cuis/C0001699/C0004626/lca HTTP/1.1" 200 OK
INFO:root:Computing Wu-Palmer similarity for C0001699 and C0004626
INFO:root:Fetching ancestors for C0001699 and C0004626
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0001699
INFO:root:Found 11 PTR paths for CUI C0001699
INFO:root:Extracted 63 unique AUIs from PTR paths
INFO:root:Mapping 63 AUIs to CUIs
INFO:root:Found 63 AUI to CUI mappings
INFO:root:Found 34 unique ancestor CUIs
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Fetching PTR paths for CUI C0004626
INFO:root:Found 65 PTR paths for CUI C0004626
INFO:root:Extracted 78 unique AUIs from PTR paths
INFO:root:Mapping 78 AUIs to CUIs
INFO:root:Found 78 AUI to CUI mappings
INFO:root:Found 56 unique ancestor CUIs
INFO:root:Common ancestors: {'C1135584', 'C1256741', 'C1140093', 'C1140168', 'C1256739', 'C2720507'}
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C1140093: 
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
ERROR:root:Error getting depth: 
ERROR:root:Error fetching depth for C2720507: 
INFO:root:Lowest common ancestor for C0001699 and C0004626 is C1135584
INFO:root:Lowest common ancestor for C0001699 and C0004626 is C1135584
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Attempting to connect to database...
INFO:root:Database: umls_db
INFO:root:User: root
INFO:root:Successfully connected to database
INFO:root:Successfully connected to database
INFO:root:Successfully connected to database
INFO:root:Depths: C0001699 -> {'cui': 'C0001699', 'depth': 11}, C0004626 -> {'cui': 'C0004626', 'depth': 11}, LCA C1135584 -> {'cui': 'C1135584', 'depth': 10}
INFO:root:Computed Wu-Palmer similarity: 0.9090909090909091
INFO:     127.0.0.1:53650 - "GET /cuis/C0001699/C0004626/similarity/wu-palmer HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18226]
INFO:     Stopping reloader process [18218]
